<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nagoya 2025 | Trip Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- ç¢ºä¿å­—é«”è¼‰å…¥ -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&family=Zen+Maru+Gothic:wght@500;700&display=swap" rel="stylesheet">
    <!-- è¼‰å…¥ Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        /* Custom Vibe Styles */
        :root {
            --glass-bg: rgba(255, 255, 255, 0.75);
            --glass-border: rgba(255, 255, 255, 0.4);
            --accent-blue: #2563eb;
            --accent-red: #ef4444;
            --accent-green: #10b981;
        }

        /* è¨­å®šä¸­æ–‡å­—é«”ç‚º Noto Sans TC */
        body {
            font-family: 'Noto Sans TC', 'Inter', sans-serif;
            background-color: #f3f4f6;
            /* æŸ”å’Œçš„æ¼¸è®ŠèƒŒæ™¯ */
            background-image: 
                radial-gradient(at 0% 0%, hsla(253,16%,7%,1) 0, transparent 50%), 
                radial-gradient(at 50% 0%, hsla(225,39%,30%,1) 0, transparent 50%), 
                radial-gradient(at 100% 0%, hsla(339,49%,30%,1) 0, transparent 50%);
            background-attachment: fixed;
            color: #1f2937;
            overflow-x: hidden;
        }

        /* æ¨™é¡Œé¡¯ç¤ºå­—é«” */
        .font-display {
            font-family: 'Zen Maru Gothic', 'Noto Sans TC', sans-serif;
        }

        /* Glassmorphism Card (ç»ç’ƒæ“¬ç‰©å¡ç‰‡) */
        .glass-card {
            background: var(--glass-bg);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid var(--glass-border);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.1);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .glass-card:hover {
            transform: translateY(-4px) scale(1.01);
            box-shadow: 0 12px 40px 0 rgba(31, 38, 135, 0.15);
            background: rgba(255, 255, 255, 0.85);
        }

        /* Scroll Reveal Animation (æ»¾å‹•é¡¯ç¤ºå‹•ç•«) */
        .reveal {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.6s ease-out;
        }
        .reveal.active {
            opacity: 1;
            transform: translateY(0);
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: rgba(255,255,255,0.1);
        }
        ::-webkit-scrollbar-thumb {
            background: rgba(255,255,255,0.3);
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: rgba(255,255,255,0.5);
        }
    </style>
</head>
<body class="min-h-screen pb-20">

    <!-- Header & Flight Info Section -->
    <header class="relative text-white pt-20 pb-32 px-6 overflow-hidden">
        <!-- èƒŒæ™¯åœ– (ä½¿ç”¨ Unsplash åœ–ç‰‡ä½œç‚ºç¯„ä¾‹) -->
        <div class="absolute inset-0 z-0 opacity-20 bg-[url('https://images.unsplash.com/photo-1542051841857-5f90071e7989?q=80&w=2070&auto=format&fit=crop')] bg-cover bg-center"></div>
        
        <div class="max-w-4xl mx-auto relative z-10 text-center">
            <div class="inline-block px-4 py-1 rounded-full border border-white/30 bg-white/10 backdrop-blur-md text-sm mb-4 animate-pulse">
                2025.12.17 - 12.23
            </div>
            <h1 class="text-5xl md:text-7xl font-display font-bold mb-6 tracking-tight drop-shadow-lg">
                NAGOYA <span class="text-blue-200">WINTER</span>
            </h1>
            <p class="text-xl text-gray-200 mb-10 font-light">
                ç†±ç”°ç¥å®® Â· åˆæŒæ‘ Â· å‰åœåŠ› Â· éŠ€é­‚å±•
            </p>

            <!-- Flight Detail Card -->
            <div class="glass-card bg-white/10 text-left p-6 rounded-2xl max-w-2xl mx-auto border-white/20">
                <div class="flex justify-between items-center mb-4">
                    <div class="flex items-center gap-2">
                        <i data-lucide="plane-takeoff" class="w-5 h-5 text-blue-300"></i>
                        <span class="font-mono text-sm opacity-80">MM722</span>
                    </div>
                    <div class="text-xs border border-white/30 px-2 py-0.5 rounded">TPE <i data-lucide="arrow-right" class="inline w-3 h-3"></i> NGO</div>
                </div>
                <div class="flex justify-between items-end">
                    <div>
                        <div class="text-3xl font-bold font-display">02:55</div>
                        <div class="text-sm opacity-70">å°åŒ— (TPE) T1</div>
                    </div>
                    <!-- è™›ç·šèˆ‡å‹•ç•«é» -->
                    <div class="h-px bg-white/30 flex-1 mx-4 mb-3 relative">
                        <div class="absolute -top-1.5 right-0 w-3 h-3 bg-blue-400 rounded-full animate-ping"></div>
                    </div>
                    <div class="text-right">
                        <div class="text-3xl font-bold font-display">06:25</div>
                        <div class="text-sm opacity-70">åå¤å±‹ (NGO) T1</div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <main class="max-w-4xl mx-auto px-4 -mt-20 relative z-20">

        <!-- Preparation and Tickets Section (å·¦ä¸Šæ–¹å¡ç‰‡ç¾¤) -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-12 reveal">
            <!-- è¡Œå‰æº–å‚™ To-Do List -->
            <div class="glass-card rounded-2xl p-6 bg-white/90">
                <h3 class="flex items-center gap-2 font-bold text-lg mb-4 text-gray-800">
                    <i data-lucide="check-square" class="text-green-500"></i>
                    è¡Œå‰æº–å‚™
                </h3>
                <ul class="space-y-3">
                    <!-- é»æ“Šåˆ‡æ›é€æ˜åº¦/å®Œæˆç‹€æ…‹ (ç°¡æ˜“æ¨¡æ“¬) -->
                    <li class="flex items-center gap-3 group cursor-pointer" onclick="this.classList.toggle('opacity-40')">
                        <div class="w-5 h-5 rounded border-2 border-gray-300 flex items-center justify-center group-hover:border-blue-500 transition-colors">
                            <div class="w-3 h-3 bg-blue-500 rounded-sm opacity-0 group-hover:opacity-20"></div>
                        </div>
                        <span>æ©Ÿç¥¨ / ç¶²å¡ / ä¿éšª</span>
                    </li>
                    <li class="flex items-center gap-3 group cursor-pointer" onclick="this.classList.toggle('opacity-40')">
                        <div class="w-5 h-5 rounded border-2 border-gray-300 flex items-center justify-center group-hover:border-blue-500 transition-colors">
                            <div class="w-3 h-3 bg-blue-500 rounded-sm opacity-0 group-hover:opacity-20"></div>
                        </div>
                        <span>å…¥å¢ƒè³‡æ–™ (VJW)</span>
                    </li>
                    <li class="flex items-center gap-3 group cursor-pointer" onclick="this.classList.toggle('opacity-40')">
                        <div class="w-5 h-5 rounded border-2 border-gray-300 flex items-center justify-center group-hover:border-blue-500 transition-colors">
                            <div class="w-3 h-3 bg-blue-500 rounded-sm opacity-0 group-hover:opacity-20"></div>
                        </div>
                        <span>é£¯åº—ç¢ºèª (åƒä»£å€‰)</span>
                    </li>
                </ul>
            </div>

            <!-- ç¥¨åˆ¸ç‹€æ…‹ -->
            <div class="glass-card rounded-2xl p-6 bg-white/90">
                <h3 class="flex items-center gap-2 font-bold text-lg mb-4 text-gray-800">
                    <i data-lucide="ticket" class="text-amber-500"></i>
                    ç¥¨åˆ¸ç‹€æ…‹
                </h3>
                <div class="space-y-3">
                    <div class="flex justify-between items-center text-sm p-2 bg-gray-50 rounded-lg border border-gray-100">
                        <span>å‰åœåŠ›å¤§æ•£æ­¥ Premium</span>
                        <span class="text-green-600 font-bold flex items-center gap-1"><i data-lucide="check-circle-2" class="w-4 h-4"></i> å·²è³¼</span>
                    </div>
                    <div class="flex justify-between items-center text-sm p-2 bg-gray-50 rounded-lg border border-gray-100">
                        <span>åˆæŒæ‘ä¸€æ—¥éŠ</span>
                        <span class="text-green-600 font-bold flex items-center gap-1"><i data-lucide="check-circle-2" class="w-4 h-4"></i> å·²è³¼</span>
                    </div>
                    <div class="flex justify-between items-center text-sm p-2 bg-gray-50 rounded-lg border border-gray-100">
                        <span>éŠ€é­‚å±•é–€ç¥¨</span>
                        <span class="text-green-600 font-bold flex items-center gap-1"><i data-lucide="check-circle-2" class="w-4 h-4"></i> å·²è³¼</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Itinerary Timeline Section (è¡Œç¨‹æ™‚é–“è»¸) -->
        <div id="itinerary-container" class="space-y-16">
        <!-- Dynamic content will be inserted here by JavaScript -->
        </div>

    </main>

    <!-- Fixed Bottom Navigation (å›ºå®šåº•éƒ¨å°èˆª) -->
    <div class="fixed bottom-6 left-1/2 transform -translate-x-1/2 z-50">
        <nav class="bg-gray-900/80 backdrop-blur-md text-white px-6 py-3 rounded-full shadow-2xl flex gap-6 text-sm overflow-x-auto max-w-[90vw]">
            <a href="#day-1" class="hover:text-blue-300 whitespace-nowrap transition-colors">D1 æŠµé”</a>
            <a href="#day-2" class="hover:text-blue-300 whitespace-nowrap transition-colors">D2 å¸‚å€</a>
            <a href="#day-3" class="hover:text-blue-300 whitespace-nowrap transition-colors">D3 åˆæŒæ‘</a>
            <a href="#day-4" class="hover:text-blue-300 whitespace-nowrap transition-colors">D4 ç¥ç¤¾</a>
            <a href="#day-5" class="hover:text-blue-300 whitespace-nowrap transition-colors">D5 å‰åœåŠ›</a>
            <a href="#day-6" class="hover:text-blue-300 whitespace-nowrap transition-colors">D6 å‹•ç‰©åœ’</a>
            <a href="#day-7" class="hover:text-blue-300 whitespace-nowrap transition-colors">D7 å›å®¶</a>
        </nav>
    </div>

    <script>
        // Init Icons: å•Ÿç”¨ Lucide åœ–æ¨™
        lucide.createIcons();

        // Data from CSV: è¡Œç¨‹æ•¸æ“š (ä¿æŒèˆ‡åŸç¢¼ä¸€è‡´)
        const itineraryData = [
            {
                id: "day-1",
                date: "12/17 (ä¸‰)",
                title: "æŠµé” & ç†±ç”°ç¥å®®",
                summary: "æ©Ÿå ´ â” é£¯åº— â” ç†±ç”°ç¥å®® â” åå¤å±‹è»Šç«™é€›è¡—",
                events: [
                    { time: "06:25", title: "æŠµé”ä¸­éƒ¨åœ‹éš›æ©Ÿå ´", type: "transport", note: "é ç•™å…¥å¢ƒæ™‚é–“" },
                    { time: "06:40", title: "ç§»å‹•è‡³å¸‚å€", type: "transport", note: "åéµç‰¹æ€¥40åˆ†é˜" },
                    { time: "07:40", title: "åƒä»£å€‰ Hotel å¯„æ”¾è¡Œæ", type: "hotel", note: "æ”¾å®Œè¡Œæè¼•é¬†å‡ºç™¼" },
                    { time: "08:00", title: "ç†±ç”°ç¥å®®", type: "sight", location: "ç†±ç”°ç¥å®®", note: "å¿…å»ï¼šè‰è–™é¤¨ã€å¯¶ç‰©é¤¨ã€‚è¨˜å¾—çœ‹æ”»ç•¥ï¼" },
                    { time: "åˆé¤", title: "å¸‚å€åˆé¤", type: "food", note: "éš¨æ„æ¢ç´¢" },
                    { time: "PM", title: "åå¤å±‹è»Šç«™å¤§çˆ†è²·", type: "shopping", items: ["é¦™æº (é¦™æ°›)", "UNIQLO (å®¢è£½Tæ¤)", "Animate", "ç„¡å°è‰¯å“"], note: "é¦™æºç‡Ÿæ¥­è‡³ 18:17" }
                ]
            },
            {
                id: "day-2",
                date: "12/18 (å››)",
                title: "ç§‘å­¸èˆ‡éŠ€é­‚",
                summary: "ç§‘å­¸é¤¨ â” éŠ€é­‚å±• â” ç¶ æ´²21 â” å¤§é ˆå•†åº—è¡—",
                events: [
                    { time: "09:30", title: "è²¨å¹£æµ®ä¸–ç¹ªåšç‰©é¤¨", type: "sight", note: "å…è²»å…¥å ´" },
                    { time: "10:00", title: "åå¤å±‹å¸‚ç§‘å­¸é¤¨", type: "sight", note: "é–€ç¥¨800å††ï¼Œå…¨çƒæœ€å¤§å¤©æ–‡é¤¨" },
                    { time: "14:50", title: "éŠ€é­‚å±• @ æ¾å‚å±‹", type: "event", note: "ç†±è¡€æ™‚é–“ï¼éœ€è¦è²·æµ·å ±ç­’å¯å»é™„è¿‘ç¾è¡“ç¤¾", highlight: true },
                    { time: "å‚æ™š", title: "ç¶ æ´² 21 & PARCO", type: "sight", note: "æ°´çš„å®‡å®™é£›èˆ¹æ‹ç…§ã€å“ˆåˆ©æ³¢ç‰¹å•†åº—ã€è˜‹æœç³–å°ˆè³£åº—" },
                    { time: "æ™šä¸Š", title: "å¤§é ˆå•†åº—è¡—", type: "shopping", note: "ã‹ã‚“ã–ã—å±‹wargo(é«®ç°ª)ã€å¤è‘—åº—ã€é’æŸ³ç·æœ¬å®¶" }
                ]
            },
            {
                id: "day-3",
                date: "12/19 (äº”)",
                title: "åˆæŒæ‘ä¸€æ—¥éŠ",
                summary: "é£›é©’é«˜å±± â” ç™½å·é„‰åˆæŒæ‘ â” å’–å•¡å»³è½äºº",
                isSpecial: true,
                events: [
                    { time: "08:15", title: "é›†åˆ @ Ministop åé§…æ¤¿ç”ºåº—", type: "transport", note: "Klook å·´å£«åœ˜ï¼Œæº–æ™‚é›†åˆï¼" },
                    { time: "11:00", title: "é£›é©’é«˜å±± (å°äº¬éƒ½)", type: "sight", note: "å¿…åƒï¼šé£›é©’ç‰›æ¡å£½å¸ (é£›é¨¨ã“ã£ã¦ç‰›)ã€é«˜å±±æ‹‰éºµ" },
                    { time: "14:30", title: "ç™½å·é„‰åˆæŒæ‘", type: "sight", note: "ç«¥è©±ä¸–ç•Œï¼ç™»ä¸ŠåŸå±±å±•æœ›å°ä¿¯ç°å…¨æ™¯" },
                    { time: "15:30", title: "å–«èŒ¶ è½äºº", type: "food", note: "ONE PIECE ç²‰çµ²å¿…å»ï¼Œç´…è±†ç²¥ç„¡é™çºŒ" },
                    { time: "20:00", title: "è¿”å›åå¤å±‹", type: "transport", note: "æ™šé¤æ™‚é–“" }
                ]
            },
            {
                id: "day-4",
                date: "12/20 (å…­)",
                title: "å¤åŸèˆ‡ç¥ç¤¾å·¡ç¦®",
                summary: "ä¼Šå¥´ç¥ç¤¾ â” åå¤å±‹åŸ â” è‹¥å®®å…«å¹¡ç¤¾",
                events: [
                    { time: "10:00", title: "ä¼Šå¥´ç¥ç¤¾", type: "sight", note: "ç‹—ç‹—å¾¡å®ˆå¾ˆå¯æ„›" },
                    { time: "11:00", title: "åå¤å±‹åŸ", type: "sight", note: "é–€ç¥¨500å††" },
                    { time: "13:00", title: "åˆé¤ï¼šé°»é­šé£¯", type: "food", note: "Hitsumabushi Bincho (é‡‘é¯±æ©«ä¸)" },
                    { time: "PM", title: "ä¸‰è¼ªç¥ç¤¾ & è‹¥å®®å…«å¹¡ç¤¾", type: "sight", note: "å…”å­ç¥ç¤¾ (ä¸‰è¼ª)" },
                    { time: "å‚æ™š", title: "è‡ªç”±é€›è¡— / å¤§é ˆå›æ”¾", type: "shopping", note: "è£œè²·æ²’è²·åˆ°çš„æ±è¥¿" }
                ]
            },
            {
                id: "day-5",
                date: "12/21 (æ—¥)",
                title: "å‰åœåŠ›å…¬åœ’",
                summary: "å…¨æ—¥å‰åœåŠ›æ²ˆæµ¸é«”é©—",
                isSpecial: true,
                events: [
                    { time: "08:30", title: "å‰å¾€å‰åœåŠ›å…¬åœ’", type: "transport", note: "åéµå·´å£«ä¸­å¿ƒ4æ¨“24è™Ÿæœˆå° (ç¥¨åƒ¹1200å††)" },
                    { time: "10:00", title: "å‰åœåŠ›å…¬åœ’", type: "event", note: "å¤§æ•£æ­¥åˆ¸ Premiumï¼è¨˜å¾—æ”œå¸¶é›»å­ç¥¨åˆ¸ URL", highlight: true, image: "https://images.unsplash.com/photo-1596397249168-5e9215da3345?auto=format&fit=crop&q=80&w=800" },
                    { time: "17:00", title: "è¿”å›å¸‚å€", type: "transport", note: "å¸¶è‘—æ»¿æ»¿çš„å›æ†¶èˆ‡æˆ°åˆ©å“" }
                ]
            },
            {
                id: "day-6",
                date: "12/22 (ä¸€)",
                title: "å¸¥å“¥çŒ©çŒ©èˆ‡å¤œæ™¯",
                summary: "æ±å±±å‹•æ¤ç‰©åœ’ â” Sky Tower",
                events: [
                    { time: "10:00", title: "æ±å±±å‹•æ¤ç‰©åœ’", type: "sight", note: "å°‹æ‰¾å‚³èªªä¸­çš„å¸¥å“¥çŒ©çŒ© (Shabani) ğŸ¦" },
                    { time: "PM", title: "Sky Tower", type: "sight", note: "è¨˜å¾—æ‹¿å†å…¥åœ’åˆ¸ï¼Œé«˜ç©ºä¿¯ç°åå¤å±‹" }
                ]
            },
            {
                id: "day-7",
                date: "12/23 (äºŒ)",
                title: "å¸¸æ»‘æ‹›è²¡è²“ & æ­¸é€”",
                summary: "é€€æˆ¿ â” å¸¸æ»‘ â” æ©Ÿå ´ Aeon â” é£›æ©Ÿ",
                events: [
                    { time: "10:00", title: "é£¯åº—é€€æˆ¿", type: "hotel", note: "è¡Œææ‹‰å»æ©Ÿå ´æˆ–å¯„æ”¾" },
                    { time: "10:40", title: "å¸¸æ»‘å¸‚ (æ‹›è²¡è²“æ•…é„‰)", type: "sight", note: "å½©ç¹ªæ‹›è²¡è²“æ­¥é“æ•£ç­–" },
                    { time: "16:00", title: "Aeon Mall Tokoname", type: "shopping", note: "æ©Ÿå ´æ—æœ€å¾Œè¡åˆºï¼Œæœ‰å·¨å¤§çš„æ‹›è²¡è²“" },
                    { time: "20:50", title: "å‰å¾€æ©Ÿå ´", type: "transport", note: "T1 èˆªå»ˆå ±åˆ°" },
                    { time: "22:45", title: "èµ·é£› MM723", type: "transport", note: "å›å®¶å›‰ï¼é è¨ˆ 01:25 æŠµé”å°åŒ—" }
                ]
            }
        ];

        // Function to render itinerary: å‹•æ…‹ç”Ÿæˆè¡Œç¨‹æ™‚é–“è»¸
        function renderItinerary() {
            const container = document.getElementById('itinerary-container');
            
            itineraryData.forEach((day, index) => {
                const dayEl = document.createElement('div');
                dayEl.id = day.id;
                dayEl.className = 'relative pl-8 md:pl-0 reveal';
                
                // Determine icon and color for each event
                let eventsHtml = day.events.map(event => {
                    let icon = 'circle';
                    let colorClass = 'bg-gray-200';
                    let iconColor = 'text-gray-500';

                    if(event.type === 'transport') { icon = 'train'; colorClass = 'bg-blue-100 text-blue-600'; iconColor='text-blue-500'; }
                    if(event.type === 'food') { icon = 'utensils'; colorClass = 'bg-orange-100 text-orange-600'; iconColor='text-orange-500'; }
                    if(event.type === 'sight') { icon = 'camera'; colorClass = 'bg-emerald-100 text-emerald-600'; iconColor='text-emerald-500'; }
                    if(event.type === 'shopping') { icon = 'shopping-bag'; colorClass = 'bg-purple-100 text-purple-600'; iconColor='text-purple-500'; }
                    if(event.type === 'hotel') { icon = 'bed'; colorClass = 'bg-indigo-100 text-indigo-600'; iconColor='text-indigo-500'; }
                    if(event.type === 'event') { icon = 'star'; colorClass = 'bg-yellow-100 text-yellow-600'; iconColor='text-yellow-500'; }

                    const highlightClass = event.highlight ? 'border-l-4 border-yellow-400 bg-yellow-50/50' : '';
                    
                    // Sub-items for shopping list (ä¾‹å¦‚ï¼šçˆ†è²·æ¸…å–®)
                    let subItemsHtml = '';
                    if(event.items) {
                        subItemsHtml = `<div class="flex flex-wrap gap-2 mt-2">
                            ${event.items.map(i => `<span class="text-xs bg-white/50 px-2 py-1 rounded border border-gray-200">${i}</span>`).join('')}
                        </div>`;
                    }
                    
                    // Optional image display for event (å¦‚æœ event.image å­˜åœ¨)
                    let eventImageHtml = '';
                    if (event.image) {
                        eventImageHtml = `
                            <img src="${event.image}" 
                                onerror="this.onerror=null;this.src='https://placehold.co/400x200/cccccc/333333?text=å‰åœåŠ›å…¬åœ’';this.classList.add('opacity-50')" 
                                alt="${event.title} åœ–ç‰‡" 
                                class="w-full h-32 object-cover rounded-lg mt-3 transition-opacity duration-300 hover:opacity-80"/>
                        `;
                    }


                    return `
                        <div class="relative pl-8 py-2 group">
                            <!-- æ™‚é–“è»¸é»ï¼šå·¦å´çš„åœ“å½¢åœ–æ¨™ -->
                            <div class="absolute left-0 top-4 w-6 h-6 rounded-full ${colorClass} flex items-center justify-center z-10 shadow-md group-hover:scale-110 transition-transform ring-4 ring-white/50">
                                <i data-lucide="${icon}" class="w-3 h-3"></i>
                            </div>
                            <!-- æ™‚é–“è»¸ç·šï¼šé€£æ¥é» -->
                            <div class="absolute left-3 top-10 bottom-0 w-px bg-gray-300 -z-0 last:hidden"></div>

                            <!-- è¡Œç¨‹å¡ç‰‡ -->
                            <div class="glass-card rounded-xl p-4 ${highlightClass} relative overflow-hidden">
                                <div class="flex justify-between items-start mb-1">
                                    <span class="font-mono text-sm font-bold ${iconColor}">${event.time}</span>
                                    <!-- Google Maps Link -->
                                    ${event.location ? `<a href="https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(event.location)}" target="_blank" class="text-xs text-gray-400 hover:text-blue-500 flex items-center gap-1 transition-colors"><i data-lucide="map-pin" class="w-3 h-3"></i> åœ°åœ–</a>` : ''}
                                </div>
                                <h4 class="font-bold text-gray-800 text-lg leading-tight">${event.title}</h4>
                                ${event.note ? `<p class="text-sm text-gray-600 mt-1 font-light">${event.note}</p>` : ''}
                                ${subItemsHtml}
                                ${eventImageHtml}
                            </div>
                        </div>
                    `;
                }).join('');

                // æ¯å€‹ Day çš„å€å¡Šæ¨™é¡Œå’Œè¡Œç¨‹åˆ—è¡¨
                dayEl.innerHTML = `
                    <div class="md:flex gap-8 items-start">
                        <!-- Day æ¨™é¡Œ (Sticky on desktop) -->
                        <div class="md:w-1/4 md:sticky md:top-24 mb-6 md:mb-0 z-10">
                            <div class="inline-block md:block bg-white/80 backdrop-blur shadow-xl rounded-2xl p-4 border border-white/50">
                                <div class="text-sm text-gray-500 font-bold uppercase tracking-wider mb-1">Day ${index + 1}</div>
                                <div class="text-2xl font-display font-bold text-gray-800">${day.date}</div>
                                <div class="text-sm text-blue-600 font-medium mt-1">${day.title}</div>
                                <p class="text-xs text-gray-400 mt-2 leading-relaxed hidden md:block">${day.summary}</p>
                            </div>
                        </div>

                        <!-- è¡Œç¨‹äº‹ä»¶åˆ—è¡¨ -->
                        <div class="md:w-3/4 space-y-2">
                            ${eventsHtml}
                        </div>
                    </div>
                `;

                container.appendChild(dayEl);
            });
            
            // Re-init icons for newly created elements
            lucide.createIcons();
        }

        // åŸ·è¡Œè¡Œç¨‹æ¸²æŸ“
        renderItinerary();

        // Scroll Reveal Logic: æ»¾å‹•é¡¯ç¤ºé‚è¼¯
        const observerOptions = { threshold: 0.1 };
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('active');
                }
            });
        }, observerOptions);

        // è§€å¯Ÿæ‰€æœ‰å¸¶æœ‰ .reveal class çš„å…ƒç´ 
        document.querySelectorAll('.reveal').forEach(el => observer.observe(el));

    </script>
</body>
</html>